{% extends 'base_one.html' %}

{% block content %}
<div class="page" id="first_page">
  <ul class="nav nav-tabs" id="myTab" role="tablist">
    <li class="nav-item">
      <a class="nav-link active" id="home-tab" data-toggle="tab" href="#home" role="tab" aria-controls="home"
        aria-selected="true">TEXT ANALYSIS</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" id="profile-tab" data-toggle="tab" href="#profile" role="tab" aria-controls="profile"
        aria-selected="false">IMAGE ANALYSIS</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" id="contact-tab" data-toggle="tab" href="#contact" role="tab" aria-controls="contact"
        aria-selected="false">VIDEO ANALYSIS</a>
    </li>
  </ul>


  <div class="tab-content" id="myTabContent">
    <div class="tab-pane fade show active" id="home" role="tabpanel" aria-labelledby="home-tab">

      <form action="/analyzing" method="post">
        <div class="form-group">
          <label for="exampleFormControlTextarea1">ENTER THE TEXT YOU WANT TO PERFORM ML ON:</label>
          <input class="form-control" id="exampleFormControlTextarea1" type="text" name="text" />
        </div>
        <button type="submit" class="btn btn-primary" id="perform_analysis_button">PERFORM ANALYSIS</button>
      </form>

      <div id="second_part">
        <ul class="nav nav-pills mb-3" id="pills-tab" role="tablist">
          <li class="nav-item" role="presentation">
            <button class="nav-link active" id="pills-home-tab" data-bs-toggle="pill" data-bs-target="#pills-home"
              type="button" role="tab" aria-controls="pills-home" aria-selected="true">TEXT</button>
          </li>
          <li class="nav-item" role="presentation">
            <button class="nav-link" id="pills-profile-tab" data-bs-toggle="pill" data-bs-target="#pills-profile"
              type="button" role="tab" aria-controls="pills-profile" aria-selected="false">JSON</button>
          </li>
        </ul>

        <div class="tab-content" id="pills-tabContent">
          <div class="tab-pane fade show active" id="pills-home" role="tabpanel" aria-labelledby="pills-home-tab">
            {% if dictionary_response|length > 0 %}
            {% for sentence, polarity in dictionary_response.sentences.items() %}
            <tr>
              {% if polarity > 0 %}
              <div class="alert alert-success" role="alert">
                {{ sentence }} ({{ polarity }})
              </div>
              {% elif polarity == 0 %}
              <div class="alert alert-warning" role="alert">
                {{ sentence }} ({{ polarity }})
              </div>
              {% else %}
              <div class="alert alert-danger" role="alert">
                {{ sentence }} ({{ polarity }})
              </div>
              {% endif %}
            </tr>
            {% endfor %}
            {% endif %}
          </div>


          <div class="tab-pane fade" id="pills-profile" role="tabpanel" aria-labelledby="pills-profile-tab">
            JSON FORMAT
            {{ dictionary_response }}
          </div>
        </div>
      </div>
    </div>

    <div class="tab-pane fade" id="profile" role="tabpanel" aria-labelledby="profile-tab">image analysis</div>

    <div class="tab-pane fade" id="contact" role="tabpanel" aria-labelledby="contact-tab">video analysis</div>
  </div>
</div>
{% endblock %}